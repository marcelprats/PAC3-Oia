<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Descobreix Oia, Santorini</title>
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>  
    <header class="hero">
        <div class="navbar">
            <img src="./assets/images/descubre-oia.png" alt="Logo Descubre Oia" class="logo-img">
            <span class="hamburger-menu" onclick="toggleMenu()">&#9776;</span>
            <nav>
                <ul>
                    <li><a href="./pages/presentacio.html">Presentación</a></li>
                    <li><a href="./pages/categoria.html">Historia</a></li>
                    <li><a href="./pages/detall.html">Castillo</a></li>
                    <li><a href="./pages/enllacos.html">Enlaces</a></li>
                </ul>
            </nav>
        </div>
        <div class="hero-content">
            <h1>Descubre la Magia de Oia</h1>
            <h2>Un viaje inolvidable al corazón de Santorini</h2>
            <div class="svg-stars-container">
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" class="rotating-star">
                    <defs>
                        <pattern id="star-pattern" patternUnits="userSpaceOnUse" width="100" height="100">
                            <image href="./assets/images/gyros.jpg" x="0" y="0" width="100" height="100" />
                        </pattern>
                    </defs>
                    <polygon points="50,0 61,35 98,35 68,57 79,91 50,70 21,91 32,57 2,35 39,35" fill="url(#star-pattern)" />
                </svg>
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" class="rotating-star">
                    <polygon points="50,0 61,35 98,35 68,57 79,91 50,70 21,91 32,57 2,35 39,35" fill="url(#star-pattern)" />
                </svg>
            </div>
            
            
            
            <a href="#presentacion" class="scroll-button">Explorar Más</a>
        </div>
        <!-- Imatges responsive per al fons -->
        <picture>
            <source srcset="./assets/images/oia-hero.jpg" media="(min-width: 1200px)">
            <source srcset="./assets/images/oia-hero-1200.jpg" media="(min-width: 768px)">
            <img src="./assets/images/oia-hero-m.jpg" alt="Vista panorámica de Oia" class="hero-image">
        </picture>
    </header>
    
    

    <section id="presentacion" class="section reveal">
        <div class="section-content reverse">
            <div class="section-text">
                <h2><a href="pages/presentacio.html" class="section-link">Presentacion</a></h2>
                <p>Presentación de las diferentes páginas. <a href="pages/presentacio.html">Ver más</a></p>
            </div>
            <a href="pages/presentacio.html">
                <picture>
                    <source srcset="./assets/images/oia-paisaje.jpg" media="(min-width: 1200px)">
                    <source srcset="./assets/images/oia-paisaje-1200.jpg" media="(min-width: 768px)">
                    <img src="./assets/images/oia-paisaje-m.jpg" alt="Contacto en Oia" class="section-image">
                </picture>
            </a>
        </div>
    </section>
    

    <section id="about" class="section reveal">
        <div class="section-content">
            <a href="pages/categoria.html">
                <picture>
                    <source srcset="./assets/images/oia-history.jpg" media="(min-width: 1200px)">
                    <source srcset="./assets/images/oia-history-1200.jpg" media="(min-width: 768px)">
                    <img src="./assets/images/oia-history-m.jpg" alt="Historia de Oia" class="section-image">
                </picture>
            </a>
            <div class="section-text">
                <h2><a href="pages/categoria.html" class="section-link">Historia y lugares de interés</a></h2>
                <p>Explora la historia y cultura de Oia, desde sus monumentos antiguos hasta sus pintorescas calles. Esta sección te muestra tres lugares de interés. <a href="pages/categoria.html">Ver más</a></p>
            </div>
        </div>
    </section>
    

    <section id="castillo" class="section reveal">
        <div class="section-content reverse">
            <div class="section-text">
                <h2><a href="pages/detall.html" class="section-link">Castillo</a></h2>
                <p>Ubicado en lo alto de Oia, el castillo ofrece vistas panorámicas incomparables al atardecer. Su historia y arquitectura reflejan el pasado turbulento y el espíritu de resistencia de Oia. Ven y experimenta el esplendor de este sitio histórico. <a href="pages/detall.html">Ver más</a></p>
            </div>
            <a href="pages/detall.html">
                <picture>
                    <source srcset="./assets/images/castillo-oia.jpg" media="(min-width: 1200px)">
                    <source srcset="./assets/images/castillo-oia-1200.jpg" media="(min-width: 768px)">
                    <img src="./assets/images/castillo-oia-m.jpg" alt="Castillo de Oia" class="section-image">
                </picture>
            </a>
        </div>
    </section>
    

    <section id="enlaces" class="section reveal">
        <div class="section-content">
            <a href="pages/enllacos.html">
                <picture>
                    <source srcset="./assets/images/oia1.jpg" media="(min-width: 1200px)">
                    <source srcset="./assets/images/oia1-1200.jpg" media="(min-width: 768px)">
                    <img src="./assets/images/oia1-m.jpg" alt="Enlaces de interés" class="section-image">
                </picture>
            </a>
            <div class="section-text">
                <h2><a href="pages/enllacos.html" class="section-link">Enlaces</a></h2>
                <p>Los enlaces a los recursos y documentos utilizados. <a href="pages/enllacos.html">Ver más</a></p>
            </div>
        </div>
    </section>
    



    <script>
        const sections = document.querySelectorAll('.reveal');

        const revealSection = (entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                    observer.unobserve(entry.target);
                }
            });
        };

        const observer = new IntersectionObserver(revealSection, {
            threshold: 0.15,
        });

        sections.forEach(section => {
            observer.observe(section);
        });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            function toggleMenu() {
                const menu = document.querySelector('.navbar ul');
                menu.classList.toggle('active');
            }
    
            document.querySelector('.hamburger-menu').addEventListener('click', toggleMenu);
        });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const stars = document.querySelectorAll(".rotating-star");

            stars.forEach((star, index) => {
                let rotation = 0; // Angle inicial de rotació
                const initialSpeed = 5; // Velocitat inicial comuna per a totes les estrelles
                let currentSpeed = initialSpeed; // Velocitat actual
                const initialScale = 1; // Escala inicial
                let direction = 1; // Direcció de rotació (1 per sentit horari, -1 per sentit antihorari)
                let animationInProgress = false; // Controla si hi ha una animació en progrés

                // Funció per animar la rotació
                const rotateStar = () => {
                    rotation += direction; // Increment de rotació segons la direcció
                    star.style.transform = `rotate(${rotation}deg) scale(${initialScale + (50 - currentSpeed) / 100})`;
                    setTimeout(rotateStar, currentSpeed);
                };

                // Comença la rotació
                rotateStar();

                // Funció per ajustar la velocitat i la mida progressivament
                const adjustSpeedAndSize = (targetSpeed, duration, reverse = false, reset = false) => {
                    if (animationInProgress && !reset) return; // Evita conflictes si ja hi ha una animació en curs
                    animationInProgress = true;

                    const interval = 50; // Cada quant ajustem la velocitat (50ms)
                    const steps = duration / interval; // Nombre de passos per fer l'ajust
                    const speedStep = (targetSpeed - currentSpeed) / steps; // Increment de velocitat per pas

                    if (reverse) direction = -1; // Canvia la direcció si cal girar cap a l'altre costat

                    const adjust = setInterval(() => {
                        currentSpeed += speedStep; // Ajustem la velocitat actual
                        const scale = initialScale + (50 - currentSpeed) / 100; // Calcula la mida segons la velocitat
                        star.style.transform = `rotate(${rotation}deg) scale(${scale})`; // Aplica la rotació i escala

                        // Atura l'ajust quan arribem a la velocitat objectiu
                        if ((speedStep > 0 && currentSpeed >= targetSpeed) || 
                            (speedStep < 0 && currentSpeed <= targetSpeed)) {
                            currentSpeed = targetSpeed; // Ens assegurem que arribem exactament a la velocitat desitjada
                            if (!reverse) direction = 1; // Torna a la direcció original si no és un gir invers
                            clearInterval(adjust); // Aturem l'ajust
                            animationInProgress = false; // Marca l'animació com completada
                        }
                    }, interval);
                };

                // Redueix la velocitat i fa l'estrella més petita progressivament
                star.addEventListener("mouseover", () => {
                    adjustSpeedAndSize(50, 2000, index === 1); // Redueix la velocitat a 50ms, amb gir invers per l'estrella del mig
                });

                // Torna a la velocitat inicial i mida original progressivament
                star.addEventListener("mouseout", () => {
                    adjustSpeedAndSize(initialSpeed, 2000, false, true); // Torna a la velocitat inicial en 2 segons
                });
            });
        });

    </script>   
</body>
</html>
